<html>
<head>
<meta charset="UTF-8" />
<link rel="stylesheet" type="text/css" href="resources/css/manage-framework-dialog.css"/>
<script type="text/javascript" src="resources/javascript/jquery/jquery-2.1.4.min.js">/**/</script>
<script type="text/javascript" src="resources/javascript/jquery-ui/jquery-ui.min.js">/**/</script>
<link href="resources/javascript/fancytree/skin-win8/ui.fancytree.min.css" rel="stylesheet" type="text/css">
<script src="resources/javascript/fancytree/jquery.fancytree-all.min.js" type="text/javascript">/**/</script>
<script type="text/javascript">
	$( document ).ready(function() {
		$("#tree").fancytree({
			extensions: ["edit"],
		    edit: {
		      triggerStart: ["f2", "dblclick", "shift+click", "mac+enter"],
		      beforeEdit: function(event, data){
		        // Return false to prevent edit mode
		      },
		      edit: function(event, data){
		        // Editor was opened (available as data.input)
		      },
		      beforeClose: function(event, data){
		        // Return false to prevent cancel/save (data.input is available)
		      },
		      save: function(event, data){
		        // Save data.input.val() or return false to keep editor open
		        console.log("save...", this, data);
		        // Simulate to start a slow ajax request...
		        setTimeout(function(){
		          $(data.node.span).removeClass("pending");
		          // Let's pretend the server returned a slightly modified
		          // title:
		          data.node.setTitle(data.node.title + "!");
		        }, 2000);
		        // We return true, so ext-edit will set the current user input
		        // as title
		        return true;
		      },
		      close: function(event, data){
		        // Editor was removed
		        if( data.save ) {
		          // Since we started an async request, mark the node as preliminary
		          $(data.node.span).addClass("pending");
		        }
		      }
		    }			
		});
		$("li label" ).on("click", "img.delete-folder", function() {
			alert("delete-folder");
			return false;			
		});
		$("li label" ).on("click", "img.add-file", function() {
			alert("add-file");
			return false;			
		});		
	});
	function getFileList() {

	}
	
	
</script>
</head>
<body onload="window.setTimeout(getFileList, 0);">
	<h2>Manage framework</h2>
	<ol class="tree" >
		<li>
			<label for="folder3">
				<span>Folder</span>
				<img class="delete-folder" src="resources/images/page_white_delete.png" />
				<img class="add-file" src="resources/images/page_white_add.png" />
			</label>
			<input type="checkbox" id="folder3" />
			<ol>
				<li class="file"><a href="#">File 1</a></li>
				<li>
					<label for="subfolder3">Subfolder 1</label> <input type="checkbox" id="subfolder3" /> 
					<ol>
						<li class="file"><a href="#">Subfile 1</a><input type="image" src="resources/images/page_white_delete.png" /></li>
					</ol>
				</li>
			</ol>
		</li>
	</ol>
	<div id="tree">
	    <ul id="treeData" style="display: none;">
	      <li id="id1" title="Look, a tool tip!">item1 with key and tooltip
	      <li id="id2">item2
	      <li id="id3" class="folder">Folder <em>with some</em> children
	        <ul>
	          <li id="id3.1">Sub-item 3.1
	            <ul>
	              <li id="id3.1.1">Sub-item 3.1.1
	              <li id="id3.1.2">Sub-item 3.1.2
	            </ul>
	          <li id="id3.2">Sub-item 3.2
	            <ul>
	              <li id="id3.2.1">Sub-item 3.2.1
	              <li id="id3.2.2">Sub-item 3.2.2
	            </ul>
	        </ul>
	      <li id="id4" class="expanded">Document with some children (expanded on init)
	        <ul>
	          <li id="id4.1"  class="active focused">Sub-item 4.1 (active and focus on init)
	            <ul>
	              <li id="id4.1.1">Sub-item 4.1.1
	              <li id="id4.1.2">Sub-item 4.1.2
	            </ul>
	          <li id="id4.2">Sub-item 4.2
	            <ul>
	              <li id="id4.2.1">Sub-item 4.2.1
	              <li id="id4.2.2">Sub-item 4.2.2
	            </ul>
	        </ul>
	    </ul>
	  </div>	
	<div id="footer">
		<button style="float: right;" onclick="OxygenAddonBuilder.closeDialogWindow();">Close</button>
	</div>
</body>
</html>
